
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="shortcut icon" href="http://rnatest.bgsu.edu/rna3dhub/icons/C_icon.png">
    <link rel="stylesheet" type="text/css" href="/r3d-2-msa/static/css/style.css">
    <script src="https://use.fontawesome.com/fa1f25e5ba.js"></script>
    <title>RNA 3D Motif Correspondence Server</title>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button"
                  class="navbar-toggle collapsed"
                  data-toggle="collapse"
                  data-target="#navbar"
                  aria-expanded="false"
                  aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/correspondence">Correspondence Server</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="/" target="_blank">BGSU Home</a></li>
            <!-- OLD HELP LINK
            <li><a href="/main/alignment-server-help/" target="_blank">Help</a></li>
            -->
            <li><a href="">Help</a></li>
            <li><a href="">APIs</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="page_header">
        <h1>RNA 3D Motif Correspondence Server</h1>

        <p align="justify">
          The BGSU RNA group maintains a data pipeline and website that groups
          together chains from various RNA containing PDB structure files that represent the same molecule from the same organism into <b>Equivalence Classes (EC)</b>. As part of our data annotation pipeline, we compute and store the correspondences between the residues in each pair of structures belonging to an Equivalence Class. The <b>Correspondence Server</b> can be used to query an RNA 3D motif or any set of nucleotides od interest in one RNA-containing PDB structure to find the corresponding nucleotides in each other structure in the equivalence class. The instances are ordered based on the geometric similarity so that instances that are more similar to each other are placed next to each other in the table
        </p>
      </div>
      </br>

      <div class="row">

        <form class="form-horizontal col-sm-12" id="generateCorrespondence" action="http://rna.bgsu.edu/correspondence/comparison">

          <div class="form-group col-sm-5">

            <label for="ife">Choose Selection Type</label>
            <select class="form-control" id="input-type" name="selection_type">
                <option value="loop_id">loop_id</option>
                <option value="unit_id">unit_id</option>
            </select>
            </br>
            
            <label for="selection">Enter Selection</label>
            <input type="text" class="form-control" id="selection" name="selection">
            <!--<i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>-->
            </br>

            <label for="structure-resolution">Choose Equivalence Class Resolution Threshold</label>
            <select class="form-control" id="structure-resolution" name="resolution_threshold">
                <option value="4.0" selected>4.0</option>
                <option value="1.5">1.5</option>
                <option value="2.0">2.0</option>
                <option value="2.5">2.5</option>
                <option value="3.0">3.0</option>
                <option value="3.5">3.5</option>
                <option value="all">all</option>
            </select>
            </br>

            <label for="experimental-method">Choose Experimental Technique</label>
            <select class="form-control" id="experimental-method" name="exp_method">
                <option value="all" selected>Any</option>
                <option value="xray">X-ray diffraction</option>
                <option value="em">Cryo-electron microscopy</option>
            </select>
            </br>

            <button type="submit" id="submit_test" class="btn btn-primary">Submit</button>
          </div>




      

          

          <div class="col-sm-4 col-sm-offset-3">
            <h4>Examples</h4>
            <ul class="list-unstyled">
                
                <li>
                  <!--<a class="example-data" href="http://rna.bgsu.edu/correspondence/comparison?resolution_threshold=4.0&exp_method=xray&selection=IL_5J7L_060&selection_type=loop_id" target="_blank">
                    Decoding loop in <i>E. coli</i> SSU crystal structures-->
                    <a class="example-data" href="http://rna.bgsu.edu/correspondence/comparison?resolution_threshold=4.0&exp_method=xray&selection=5J7L|1|AA|G|1405,5J7L|1|AA|U|1406,5J7L|1|AA|5MC|1407,5J7L|1|AA|A|1408,5J7L|1|AA|C|1409,5J7L|1|AA|G|1491,5J7L|1|AA|A|1492,5J7L|1|AA|A|1493,5J7L|1|AA|G|1494,5J7L|1|AA|U|1495,5J7L|1|AA|C|1496&selection_type=unit_id" target="_blank">
                      Decoding loop in <i>E. coli</i> SSU crystal structures
                  </a>
                </li>
                
                <li>
                  <a class="example-data" href="http://rna.bgsu.edu/correspondence/comparison?resolution_threshold=4.0&exp_method=all&selection=HL_3WC2_002&selection_type=loop_id" target="_blank">
                    Anticodon stem-loop in tRNA(Phe) from <i>S. cerevisae</i>
                  </a>
                </li>
                
                <!--<li>
                  <a class="example-data" data-units='2AW7|1|A||580:2AW7|1|A||584,2AW7|1|A||757:2AW7|1|A||761'>
                    Helix 69 hairpin loop from human LSU 
                  </a>
                </li>-->
                
            </ul>
          </div>

        </form>    

      </div>
      <hr>

      <!--<div class="row">
        <div class="col-sm-8">
          <h3>How to Use</h3>
          <ul>
            <li>First, choose the selection type. Currently, users can choose either loop_id or unit_id.
            </li>
            <li>Then, provide the selection.
            </li>
            <li>Next, choose the resolution threshold.
            </li>
            <li>Submit your query.</li>
            <li>For examples, click the example buttons.</li>
          </ul>
        </div>

        <div class="col-sm-4">
          <h3>Data Source</h3>
          <p>Equivalence Classes from the <a
            href="http://rna.bgsu.edu/rna3dhub/nrlist"> Representative Sets of RNA 3D Structures pages</a>.
          </p>
        </div>
      </div>-->


    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <!--<script src="/r3d-2-msa/static/js/form.js"></script>-->

    <script type="text/javascript">

      $('#generateCorrespondence').on('submit', function() {
  
        let id = $('#input-type').val();
        let selection = $('#selection').val();
        let method = $('#experimental-method').val();
        let resolution = $('#structure-resolution').val();
  
      if (id == 'loop_id') {
        let formAction = $('#generateCorrespondence').attr('action');
        //let url = formAction + 'resolution_threshold=' + resolution + '&' + 'exp_method=' + method + '&' + 'loop_id=' + selection ;
        //$('#generateCorrespondence').attr('action', url);
        let url = formAction + $('#generateCorrespondence').serialize();
        // alert(url);
        //window.location.assign(url)
        }
      });
      

    </script>
  </body>
</html>

